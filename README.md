# 🌱 Smart Garden Air Quality Monitoring System

מערכת לניטור איכות אוויר באמצעות חיישן Enviro על Raspberry Pi.

## 🚀 הפעלה מהירה

### שיטה 1: הפעלה אוטומטית (מומלץ)
```bash
./start_system.sh
```

### שיטה 2: הפעלה ידנית
```bash
# 1. הפעלת השרת
node server.js

# 2. הפעלת הפרונטנד (בטרמינל חדש)
cd frontend
npm start

# 3. הפעלת סימולציית החיישן (בטרמינל חדש)
python3 simulate_sensor.py
```

## 🛑 עצירת המערכת
```bash
./stop_system.sh
```

## 📊 גישה למערכת

- **Frontend (ממשק משתמש):** http://localhost:3001
- **Backend API:** http://localhost:3000
- **API נתוני חיישנים:** http://localhost:3000/api/sensors

## 🔧 רכיבי המערכת

### Backend (Node.js/Express)
- **קובץ:** `server.js`
- **פורט:** 3000
- **תפקיד:** 
  - API לנתוני חיישנים
  - מסד נתונים SQLite מקומי
  - סימולציית AWS IoT Core
  - התראות אוטומטיות

### Frontend (React)
- **תיקייה:** `frontend/`
- **פורט:** 3001
- **תפקיד:**
  - ממשק משתמש מודרני
  - גרפים בזמן אמת
  - התראות צבעוניות
  - מדד AQI

### Sensor Simulation (Python)
- **קובץ:** `simulate_sensor.py`
- **תפקיד:**
  - סימולציית חיישן Enviro
  - שליחת נתונים כל 30 שניות
  - נתונים ריאליסטיים

## 📋 תכונות המערכת

### 🌬️ ניטור איכות אוויר
- **טמפרטורה:** 18-28°C (אופטימלי)
- **לחות:** 30-70% (אופטימלי)
- **לחץ:** 980-1020 hPa
- **גז:** מדידת התנגדות (נמוך = איכות אוויר גרועה)

### 📊 מדד AQI (Air Quality Index)
- **0-50:** טוב (ירוק)
- **51-100:** בינוני (צהוב)
- **101-150:** לא בריא לקבוצות רגישות (כתום)
- **151-200:** לא בריא (אדום)
- **201-300:** מאוד לא בריא (סגול)
- **301-500:** מסוכן (בורדו)

### 🔔 התראות אוטומטיות
- התראות על איכות אוויר גרועה
- התראות על טמפרטורה גבוהה/נמוכה
- התראות על לחות גבוהה/נמוכה
- התראות על שינויי לחץ

## 🗄️ מסד נתונים

המערכת משתמשת ב-SQLite מקומי:
- **קובץ:** `air_quality.db`
- **טבלה:** `sensor_data`
- **שדות:** temperature, humidity, pressure, gas, reducing, nh3, aqi, timestamp

## 🔄 AWS IoT Core (מושבת זמנית)

הקוד המקורי של AWS IoT Core נשמר אך מושבת:
- **סיבה:** חסכון בעלויות AWS
- **תחליף:** סימולציה מקומית
- **הפעלה מחדש:** אפשרי בעת הצורך

## 📁 מבנה הקבצים

```
smart-garden-backend/
├── server.js                 # שרת Express
├── simulate_sensor.py        # סימולציית חיישן
├── start_system.sh          # הפעלה אוטומטית
├── stop_system.sh           # עצירה אוטומטית
├── air_quality.db           # מסד נתונים SQLite
├── frontend/                # React app
│   ├── src/
│   │   ├── App.js
│   │   └── ...
│   └── package.json
└── awsIoT/                  # תעודות AWS (לא בשימוש)
```

## 🐛 פתרון בעיות

### השרת לא עולה
```bash
# בדיקת פורט 3000
lsof -i :3000

# בדיקת לוגים
tail -f server.log
```

### הפרונטנד לא עולה
```bash
# התקנת תלויות
cd frontend
npm install

# הפעלה מחדש
npm start
```

### חיישן לא שולח נתונים
```bash
# בדיקת לוגים
tail -f sensor.log

# הרצה ידנית
python3 simulate_sensor.py
```

## 🔮 תכונות עתידיות

- [ ] התראות אימייל
- [ ] המלצות חכמות לשיפור איכות האוויר
- [ ] גרפים היסטוריים
- [ ] פרופילי משתמשים
- [ ] התראות SMS
- [ ] אינטגרציה עם חיישן אמיתי

## 📞 תמיכה

לשאלות או בעיות, פנה אל המפתח.

---

**הערה:** המערכת פועלת בסימולציה מלאה ללא AWS או חיישן פיזי. כל הנתונים הם סימולציה לצורך הדגמה. 